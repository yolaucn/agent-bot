# ğŸ¤– AI è‡ªä¸»ä»£ç å®¡æŸ¥ä»£ç†

> **ğŸ“š è¿™æ˜¯ä¸€ä¸ªAI Agentå­¦ä¹ é¡¹ç›®**  
> æœ¬é¡¹ç›®æ—¨åœ¨å±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ª**å®Œå…¨è‡ªä¸»**çš„AIä»£ç†ï¼Œå¸®åŠ©å¼€å‘è€…ç†è§£Agentçš„æ ¸å¿ƒæ¦‚å¿µå’Œå®ç°æ–¹æ³•ã€‚

ä¸€ä¸ª**å®Œå…¨è‡ªä¸»**çš„AIä»£ç†ï¼ŒåŸºäºé˜¿é‡Œç™¾ç‚¼å¤§æ¨¡å‹ï¼Œèƒ½å¤Ÿ**æ— éœ€äººå·¥å¹²é¢„**åœ°è‡ªåŠ¨æ£€æµ‹ä»£ç æäº¤ä¸­çš„æ½œåœ¨bugå¹¶è‡ªä¸»åˆ›å»ºGitHub Issueã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä½ å°†å­¦ä¼šï¼š

- ğŸ§  **AI Agentæ ¸å¿ƒæ¶æ„**ï¼šç†è§£è‡ªä¸»å†³ç­–ã€è®°å¿†ç®¡ç†ã€è¡ŒåŠ¨æ‰§è¡Œçš„å®Œæ•´æµç¨‹
- ğŸ”„ **Agentå·¥ä½œå¾ªç¯**ï¼šæ„ŸçŸ¥â†’æ€è€ƒâ†’å†³ç­–â†’è¡ŒåŠ¨â†’è®°å¿†çš„ç»å…¸Agentæ¨¡å¼
- ğŸ¤– **å¤§æ¨¡å‹é›†æˆ**ï¼šå¦‚ä½•å°†LLMï¼ˆé˜¿é‡Œç™¾ç‚¼ï¼‰é›†æˆåˆ°Agentç³»ç»Ÿä¸­
- ğŸ” **èº«ä»½è®¤è¯ç®¡ç†**ï¼šæ”¯æŒå¤šç§GitHubè®¤è¯æ–¹å¼çš„çµæ´»è®¾è®¡
- ğŸ“š **çŠ¶æ€ç®¡ç†**ï¼šAgentå¦‚ä½•ç»´æŠ¤å’Œä½¿ç”¨å†å²è®°å¿†
- ğŸš€ **è‡ªä¸»æ‰§è¡Œ**ï¼šçœŸæ­£çš„"è®¾ç½®åå¿˜è®°"çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿ

## âœ¨ Agentæ ¸å¿ƒç‰¹æ€§æ¼”ç¤º

### ğŸ§  å®Œå…¨è‡ªä¸»çš„AIå†³ç­–
- **é›¶äººå·¥å¹²é¢„**ï¼šAIç‹¬ç«‹åˆ†æä»£ç ï¼Œè‡ªä¸»å†³å®šæ˜¯å¦éœ€è¦åˆ›å»ºIssue
- **æ™ºèƒ½åˆ¤æ–­**ï¼šåŸºäºé˜¿é‡Œç™¾ç‚¼qwen-turboæ¨¡å‹çš„æ·±åº¦ä»£ç ç†è§£
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šç»“åˆå†å²è®°å¿†åšå‡ºæ›´å‡†ç¡®çš„åˆ¤æ–­

### ğŸš€ è‡ªä¸»å‘å¸–èƒ½åŠ›
- **è‡ªåŠ¨Issueåˆ›å»º**ï¼šå‘ç°é—®é¢˜åè‡ªä¸»åœ¨GitHubåˆ›å»ºè¯¦ç»†çš„é—®é¢˜æŠ¥å‘Š
- **æ™ºèƒ½æ ‡é¢˜ç”Ÿæˆ**ï¼šAIè‡ªåŠ¨ç”Ÿæˆæè¿°æ€§çš„Issueæ ‡é¢˜
- **è¯¦ç»†é—®é¢˜æè¿°**ï¼šæä¾›å®Œæ•´çš„bugåˆ†æå’Œä¿®å¤å»ºè®®

### ğŸ”„ æŒç»­è‡ªä¸»ç›‘æ§
- **24/7è¿è¡Œ**ï¼šå¯æŒç»­ç›‘æ§ä»£ç å˜æ›´ï¼Œæ— éœ€äººå·¥å¯åŠ¨
- **è®°å¿†ç®¡ç†**ï¼šç»´æŠ¤åˆ†æå†å²ï¼Œé¿å…é‡å¤æŠ¥å‘Šç›¸åŒé—®é¢˜
- **å¢é‡åˆ†æ**ï¼šåªåˆ†ææ–°çš„ä»£ç å˜æ›´ï¼Œæé«˜æ•ˆç‡

### ğŸ¯ å…¶ä»–ç‰¹æ€§
- ğŸ› **ç²¾å‡†bugæ£€æµ‹**ï¼šè¯†åˆ«æ½œåœ¨çš„ä»£ç é—®é¢˜å’Œå®‰å…¨éšæ‚£
- ğŸ‡¨ğŸ‡³ **ä¸­æ–‡æ”¯æŒ**ï¼šå®Œå…¨æ”¯æŒä¸­æ–‡æç¤ºå’Œåˆ†æ
- ğŸ” **å¤šç§è®¤è¯**ï¼šæ”¯æŒGitHub Tokenå’ŒGitHub Appä¸¤ç§è®¤è¯æ–¹å¼
- ğŸ“Š **è¿è¡Œç»Ÿè®¡**ï¼šæä¾›è¯¦ç»†çš„è¿è¡ŒæŠ¥å‘Šå’Œç»Ÿè®¡ä¿¡æ¯

## ğŸ¬ å·¥ä½œæ¼”ç¤º

```
ğŸ¤– AI Agent å¯åŠ¨ - è‡ªä¸»ä»£ç å®¡æŸ¥æ¨¡å¼
==================================================

ğŸ” æ£€æµ‹æ–°æäº¤...

ğŸ“ æ­£åœ¨åˆ†ææäº¤: calculator.py
ğŸ§  AIæ­£åœ¨æ€è€ƒ...
ğŸ’­ AIå†³ç­–ç»“æœ: {"action": "post", "content": "å‘ç°é™¤é›¶é”™è¯¯é£é™©..."}
ğŸš€ AIå†³å®šè‡ªä¸»å‘å¸–...
âœ… AIè‡ªä¸»åˆ›å»ºIssueæˆåŠŸ: #15
ğŸ“ Issueæ ‡é¢˜: ğŸ› calculator.py ä¸­å‘ç°æ½œåœ¨é—®é¢˜

ğŸ‰ AI Agentè‡ªä¸»åˆ†æå®Œæˆï¼
ğŸ“Š æœ¬æ¬¡è¿è¡Œç»Ÿè®¡:
   - åˆ†ææ–‡ä»¶æ•°: 2
   - åˆ›å»ºIssueæ•°: 1
   - AIå®Œå…¨è‡ªä¸»è¿è¡Œï¼Œæ— éœ€äººå·¥å¹²é¢„
```

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yolaucn/agent-bot.git
cd agent-bot
```

### 2. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ uv (æ¨è)
uv sync

# æˆ–ä½¿ç”¨ pip
pip install -r requirements.txt
```

### 3. é…ç½®

å¤åˆ¶é…ç½®æ¨¡æ¿å¹¶å¡«å…¥ä½ çš„ä¿¡æ¯ï¼š

```bash
cp config.yaml.template config.yaml
cp .env.template .env
```

ç¼–è¾‘ `config.yaml` æ–‡ä»¶ï¼š

```yaml
agent:
  name: github_agent_001
  goal: "æ£€æµ‹ä»£ç æäº¤ä¸­çš„æ½œåœ¨bugå¹¶è‡ªåŠ¨åˆ›å»ºGitHub Issue"

github:
  # æ–¹å¼1ï¼šä½¿ç”¨GitHub Token
  token: "ghp_your_token_here"
  repo: "your_username/your_repo"
  
  # æ–¹å¼2ï¼šä½¿ç”¨GitHub App (æ¨è)
  app_id: "123456"
  installation_id: "12345678"
  private_key_path: "path/to/private-key.pem"

llm:
  provider: dashscope
  model: qwen-turbo
  api_key: "sk-your_dashscope_api_key"
```

### 4. è¿è¡Œ

```bash
uv run main.py
```

## é…ç½®è¯´æ˜

### GitHub è®¤è¯

æ”¯æŒä¸¤ç§è®¤è¯æ–¹å¼ï¼Œ**ä»£ç ä¼šè‡ªåŠ¨æ£€æµ‹é…ç½®å¹¶é€‰æ‹©åˆé€‚çš„æ–¹å¼**ï¼š

#### æ–¹å¼1: Personal Access Token (ç®€å•å¿«é€Ÿ)
é€‚åˆä¸ªäººé¡¹ç›®å’Œå¿«é€Ÿå¼€å§‹ã€‚åªéœ€åœ¨é…ç½®æ–‡ä»¶ä¸­æä¾›tokenï¼š

```yaml
github:
  token: "ghp_your_token_here"
  repo: "your_username/your_repo"
```

è®¾ç½®æ­¥éª¤ï¼š
1. åœ¨GitHubè®¾ç½®ä¸­åˆ›å»ºPersonal Access Token
2. ç¡®ä¿tokenæœ‰ `repo` æƒé™
3. åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å…¥token

#### æ–¹å¼2: GitHub App (æ¨èï¼Œä¼ä¸šçº§)
é€‚åˆå›¢é˜Ÿé¡¹ç›®å’Œç”Ÿäº§ç¯å¢ƒã€‚æä¾›æ›´å¥½çš„å®‰å…¨æ€§å’Œæƒé™æ§åˆ¶ï¼š

```yaml
github:
  app_id: "123456"
  installation_id: "12345678"
  private_key_path: "path/to/private-key.pem"
  repo: "your_username/your_repo"
```

è®¾ç½®æ­¥éª¤ï¼š
1. åˆ›å»ºGitHub App
2. å®‰è£…åˆ°ç›®æ ‡ä»“åº“
3. ä¸‹è½½ç§é’¥æ–‡ä»¶
4. åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å…¥App IDã€Installation IDå’Œç§é’¥è·¯å¾„

**æ™ºèƒ½é€‰æ‹©**ï¼šä»£ç ä¼šè‡ªåŠ¨æ£€æµ‹ - å¦‚æœé…ç½®äº†`app_id`ï¼Œåˆ™ä½¿ç”¨GitHub Appæ–¹å¼ï¼›å¦åˆ™ä½¿ç”¨Tokenæ–¹å¼ã€‚
3. ä¸‹è½½ç§é’¥æ–‡ä»¶
4. åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å…¥App IDã€Installation IDå’Œç§é’¥è·¯å¾„

### é˜¿é‡Œç™¾ç‚¼é…ç½®

1. æ³¨å†Œé˜¿é‡Œäº‘è´¦å·
2. å¼€é€šç™¾ç‚¼æœåŠ¡
3. è·å–API Key
4. åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å…¥API Key

## é¡¹ç›®ç»“æ„

```
agent-bot/
â”œâ”€â”€ main.py              # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ planner.py           # AIå†³ç­–æ¨¡å—
â”œâ”€â”€ actions.py           # GitHubæ“ä½œæ¨¡å—
â”œâ”€â”€ identity.py          # èº«ä»½è®¤è¯æ¨¡å—
â”œâ”€â”€ memory.py            # è®°å¿†ç®¡ç†æ¨¡å—
â”œâ”€â”€ config.yaml.template # é…ç½®æ¨¡æ¿
â”œâ”€â”€ .env.template        # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ pyproject.toml       # é¡¹ç›®ä¾èµ–
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## ğŸ—ï¸ Agentæ¶æ„è®¾è®¡

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†ä¸€ä¸ªå®Œæ•´çš„AI Agentæ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI Agent ç³»ç»Ÿ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ§  å†³ç­–æ¨¡å— (planner.py)                               â”‚
â”‚  â”œâ”€ å¤§æ¨¡å‹æ¨ç† (é˜¿é‡Œç™¾ç‚¼)                                â”‚
â”‚  â”œâ”€ æç¤ºå·¥ç¨‹                                            â”‚
â”‚  â””â”€ JSONç»“æ„åŒ–è¾“å‡º                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” èº«ä»½ç®¡ç† (identity.py)                              â”‚
â”‚  â”œâ”€ GitHub App è®¤è¯                                     â”‚
â”‚  â”œâ”€ Personal Token è®¤è¯                                 â”‚
â”‚  â””â”€ è‡ªåŠ¨è®¤è¯æ–¹å¼é€‰æ‹©                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸš€ è¡ŒåŠ¨æ‰§è¡Œ (actions.py)                               â”‚
â”‚  â”œâ”€ GitHub API è°ƒç”¨                                     â”‚
â”‚  â”œâ”€ Issue åˆ›å»º                                          â”‚
â”‚  â””â”€ é”™è¯¯å¤„ç†                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“š è®°å¿†ç®¡ç† (memory.py)                                â”‚
â”‚  â”œâ”€ å†å²è®°å½•å­˜å‚¨                                         â”‚
â”‚  â”œâ”€ çŠ¶æ€æŒä¹…åŒ–                                          â”‚
â”‚  â””â”€ é‡å¤æ£€æµ‹                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”„ ä¸»æ§å¾ªç¯ (main.py)                                  â”‚
â”‚  â”œâ”€ æ„ŸçŸ¥ç¯å¢ƒå˜åŒ–                                         â”‚
â”‚  â”œâ”€ è°ƒç”¨å†³ç­–æ¨¡å—                                         â”‚
â”‚  â”œâ”€ æ‰§è¡Œè¡ŒåŠ¨                                            â”‚
â”‚  â””â”€ æ›´æ–°è®°å¿†                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒAgentæ¦‚å¿µå®ç°

1. **ğŸ¯ ç›®æ ‡å¯¼å‘**ï¼šAgentæœ‰æ˜ç¡®çš„ç›®æ ‡ï¼ˆæ£€æµ‹bugå¹¶åˆ›å»ºIssueï¼‰
2. **ğŸ”„ è‡ªä¸»å¾ªç¯**ï¼šæ„ŸçŸ¥â†’åˆ†æâ†’å†³ç­–â†’è¡ŒåŠ¨â†’è®°å¿†çš„å®Œæ•´å¾ªç¯
3. **ğŸ§  æ™ºèƒ½å†³ç­–**ï¼šä½¿ç”¨å¤§æ¨¡å‹è¿›è¡Œå¤æ‚æ¨ç†å’Œåˆ¤æ–­
4. **ğŸ“š è®°å¿†æœºåˆ¶**ï¼šç»´æŠ¤çŠ¶æ€ï¼Œé¿å…é‡å¤è¡ŒåŠ¨
5. **ğŸš€ è‡ªä¸»æ‰§è¡Œ**ï¼šæ— éœ€äººå·¥å¹²é¢„çš„å®Œå…¨è‡ªåŠ¨åŒ–

## è‡ªå®šä¹‰

### ä¿®æ”¹åˆ†æç›®æ ‡

ç¼–è¾‘ `main.py` ä¸­çš„ `simulated_commits` åˆ—è¡¨ï¼Œæ·»åŠ ä½ è¦åˆ†æçš„ä»£ç ï¼š

```python
simulated_commits = [
    {"file": "your_file.py", "diff": "your code diff here"},
    # æ·»åŠ æ›´å¤šæ–‡ä»¶...
]
```

### è°ƒæ•´AIæç¤º

ç¼–è¾‘ `planner.py` ä¸­çš„æç¤ºè¯­ï¼Œè‡ªå®šä¹‰AIçš„åˆ†æè¡Œä¸ºã€‚

## ä¾èµ–é¡¹

- `dashscope`: é˜¿é‡Œç™¾ç‚¼SDK
- `pyjwt[crypto]`: JWT tokenç”Ÿæˆ
- `requests`: HTTPè¯·æ±‚
- `pygithub`: GitHub APIå®¢æˆ·ç«¯
- `pyyaml`: YAMLé…ç½®è§£æ
- `python-dotenv`: ç¯å¢ƒå˜é‡ç®¡ç†

## ğŸ“š å­¦ä¹ èµ„æºä¸æ‰©å±•

### ğŸ“ æ·±å…¥å­¦ä¹ Agentå¼€å‘

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†AI Agentçš„åŸºç¡€æ¶æ„ï¼Œä½ å¯ä»¥åŸºäºæ­¤è¿›è¡Œæ‰©å±•ï¼š

#### ğŸ”§ æŠ€æœ¯æ‰©å±•æ–¹å‘
- **å¤šæ¨¡æ€æ„ŸçŸ¥**ï¼šæ·»åŠ å›¾åƒã€éŸ³é¢‘ç­‰è¾“å…¥å¤„ç†
- **å¤æ‚å†³ç­–æ ‘**ï¼šå®ç°å¤šæ­¥éª¤ã€æ¡ä»¶åˆ†æ”¯çš„å†³ç­–é€»è¾‘
- **åˆ†å¸ƒå¼Agent**ï¼šå¤šä¸ªAgentåä½œå®Œæˆå¤æ‚ä»»åŠ¡
- **å¼ºåŒ–å­¦ä¹ **ï¼šè®©Agenté€šè¿‡åé¦ˆä¸æ–­ä¼˜åŒ–å†³ç­–
- **å·¥å…·è°ƒç”¨**ï¼šé›†æˆæ›´å¤šå¤–éƒ¨APIå’Œå·¥å…·

#### ğŸš€ åº”ç”¨åœºæ™¯æ‰©å±•
- **ä»£ç å®¡æŸ¥Agent**ï¼šè‡ªåŠ¨è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥
- **å®¢æœAgent**ï¼šè‡ªåŠ¨å›å¤ç”¨æˆ·é—®é¢˜
- **ç›‘æ§Agent**ï¼šç³»ç»Ÿå¼‚å¸¸è‡ªåŠ¨å¤„ç†
- **å†…å®¹åˆ›ä½œAgent**ï¼šè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ã€æŠ¥å‘Š
- **æ•°æ®åˆ†æAgent**ï¼šè‡ªåŠ¨åˆ†ææ•°æ®å¹¶ç”Ÿæˆæ´å¯Ÿ

#### ğŸ“– ç›¸å…³å­¦ä¹ èµ„æº
- [LangChain Agentæ–‡æ¡£](https://python.langchain.com/docs/modules/agents/)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)
- [é˜¿é‡Œç™¾ç‚¼å¼€å‘æ–‡æ¡£](https://help.aliyun.com/zh/dashscope/)
- [GitHub APIæ–‡æ¡£](https://docs.github.com/en/rest)

### ğŸ¤ è´¡çŒ®ä¸è®¨è®º

è¿™æ˜¯ä¸€ä¸ªå­¦ä¹ é¡¹ç›®ï¼Œæ¬¢è¿ï¼š
- ğŸ› æŠ¥å‘Šbugå’Œé—®é¢˜
- ğŸ’¡ æå‡ºæ”¹è¿›å»ºè®®
- ğŸ”§ æäº¤ä»£ç ä¼˜åŒ–
- ğŸ“š åˆ†äº«å­¦ä¹ å¿ƒå¾—
- ğŸ¯ è®¨è®ºAgentè®¾è®¡ç†å¿µ

## ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

> **âš ï¸ æ³¨æ„**ï¼šå½“å‰ç‰ˆæœ¬ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è¿›è¡Œæ¼”ç¤ºã€‚å¦‚æœè¦åœ¨çœŸå®é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œéœ€è¦é›†æˆçœŸå®çš„commitç›‘æ§ã€‚

### ç›‘æ§çœŸå®Commitçš„å‡ ç§æ–¹å¼

#### 1. ğŸ£ GitHub Webhooks (æ¨è)
æœ€é«˜æ•ˆçš„å®æ—¶ç›‘æ§æ–¹å¼ï¼š

```python
# webhook_server.py
from flask import Flask, request
import json

app = Flask(__name__)

@app.route('/webhook', methods=['POST'])
def github_webhook():
    payload = request.json
    
    if payload['action'] == 'opened' or payload['action'] == 'synchronize':
        # è·å–PRçš„æ–‡ä»¶å˜æ›´
        files_changed = get_pr_files(payload['pull_request']['url'])
        
        # è§¦å‘AI Agentåˆ†æ
        for file_change in files_changed:
            analyze_commit(file_change)
    
    return 'OK'
```

**è®¾ç½®æ­¥éª¤**ï¼š
1. åœ¨GitHubä»“åº“è®¾ç½®ä¸­æ·»åŠ Webhook
2. URLæŒ‡å‘ä½ çš„æœåŠ¡å™¨ï¼š`https://your-server.com/webhook`
3. é€‰æ‹©äº‹ä»¶ï¼š`Pull requests`, `Push`
4. éƒ¨ç½²FlaskæœåŠ¡å™¨æ¥æ”¶webhook

#### 2. ğŸ”„ GitHub APIè½®è¯¢
å®šæœŸæ£€æŸ¥æ–°çš„commitï¼š

```python
# polling_monitor.py
import requests
import time

def monitor_commits():
    while True:
        # è·å–æœ€æ–°commits
        commits = get_recent_commits(repo, since_timestamp)
        
        for commit in commits:
            # è·å–commitçš„æ–‡ä»¶å˜æ›´
            diff = get_commit_diff(commit['sha'])
            
            # è§¦å‘AIåˆ†æ
            analyze_commit_diff(diff)
        
        time.sleep(300)  # æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡

def get_recent_commits(repo, since):
    url = f"https://api.github.com/repos/{repo}/commits"
    params = {'since': since}
    response = requests.get(url, headers=auth_headers, params=params)
    return response.json()
```

#### 3. ğŸ”§ Git Hooks
åœ¨Gitä»“åº“ä¸­ç›´æ¥é›†æˆï¼š

```bash
#!/bin/bash
# .git/hooks/post-receive

while read oldrev newrev refname; do
    # è·å–å˜æ›´çš„æ–‡ä»¶
    git diff --name-only $oldrev..$newrev | while read file; do
        # è·å–æ–‡ä»¶å·®å¼‚
        diff=$(git diff $oldrev..$newrev -- $file)
        
        # è°ƒç”¨AI Agent
        python /path/to/agent/analyze_diff.py "$file" "$diff"
    done
done
```

#### 4. ğŸ™ GitHub Actionsé›†æˆ
ä½œä¸ºCI/CDæµç¨‹çš„ä¸€éƒ¨åˆ†ï¼š

```yaml
# .github/workflows/ai-review.yml
name: AI Code Review
on:
  pull_request:
    types: [opened, synchronize]

jobs:
  ai-review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Get changed files
        id: changed-files
        uses: tj-actions/changed-files@v35
      
      - name: Run AI Agent
        run: |
          python ai_agent.py \
            --files="${{ steps.changed-files.outputs.all_changed_files }}" \
            --pr-number="${{ github.event.number }}"
```

### ğŸ› ï¸ ç”Ÿäº§ç¯å¢ƒæ”¹é€ å»ºè®®

è¦å°†æ­¤å­¦ä¹ é¡¹ç›®æ”¹é€ ä¸ºç”Ÿäº§å°±ç»ªçš„ç³»ç»Ÿï¼Œå»ºè®®ï¼š

1. **æ›¿æ¢æ¨¡æ‹Ÿæ•°æ®**ï¼š
   ```python
   # å°† main.py ä¸­çš„ simulated_commits æ›¿æ¢ä¸ºçœŸå®æ•°æ®æº
   commits = get_real_commits_from_webhook()  # æˆ–å…¶ä»–æ•°æ®æº
   ```

2. **æ·»åŠ æ•°æ®åº“**ï¼š
   ```python
   # ä½¿ç”¨æ•°æ®åº“æ›¿ä»£ memory.json
   from sqlalchemy import create_engine
   # å­˜å‚¨åˆ†æå†å²ã€é¿å…é‡å¤å¤„ç†
   ```

3. **å¢åŠ é”™è¯¯å¤„ç†**ï¼š
   ```python
   # æ·»åŠ é‡è¯•æœºåˆ¶ã€æ—¥å¿—è®°å½•ã€å¼‚å¸¸æ¢å¤
   import logging
   import tenacity
   ```

4. **éƒ¨ç½²åˆ°äº‘æœåŠ¡**ï¼š
   - ä½¿ç”¨Dockerå®¹å™¨åŒ–
   - éƒ¨ç½²åˆ°AWS Lambdaã€é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ç­‰
   - é…ç½®å®šæ—¶ä»»åŠ¡æˆ–äº‹ä»¶è§¦å‘

5. **ç›‘æ§å’Œå‘Šè­¦**ï¼š
   ```python
   # æ·»åŠ ç›‘æ§æŒ‡æ ‡
   import prometheus_client
   # å¼‚å¸¸æ—¶å‘é€å‘Šè­¦
   ```

### ğŸ“‹ å¿«é€Ÿæ”¹é€ æ¸…å•

- [ ] é€‰æ‹©commitç›‘æ§æ–¹å¼ï¼ˆWebhook/è½®è¯¢/Hooks/Actionsï¼‰
- [ ] å®ç°çœŸå®æ•°æ®è·å–æ¥å£
- [ ] æ·»åŠ æ•°æ®åº“å­˜å‚¨
- [ ] é…ç½®ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- [ ] è®¾ç½®ç›‘æ§å’Œæ—¥å¿—
- [ ] æµ‹è¯•é”™è¯¯æ¢å¤æœºåˆ¶

### ğŸ“ å­¦ä¹ ç¬”è®°

å»ºè®®åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æ€è€ƒä»¥ä¸‹é—®é¢˜ï¼š
1. å¦‚ä½•è®¾è®¡Agentçš„ç›®æ ‡å’Œå¥–åŠ±æœºåˆ¶ï¼Ÿ
2. å¦‚ä½•å¤„ç†Agentå†³ç­–çš„ä¸ç¡®å®šæ€§ï¼Ÿ
3. å¦‚ä½•è®©Agentä»é”™è¯¯ä¸­å­¦ä¹ ï¼Ÿ
4. å¦‚ä½•ç¡®ä¿Agentçš„è¡Œä¸ºå¯è§£é‡Šï¼Ÿ
5. å¦‚ä½•å¤„ç†Agentçš„å®‰å…¨æ€§å’Œå¯æ§æ€§ï¼Ÿ

## è®¸å¯è¯

MIT License - è‡ªç”±å­¦ä¹ ï¼Œè‡ªç”±ä½¿ç”¨ï¼Œè‡ªç”±åˆ†äº«

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºAI AgentæŠ€æœ¯å‘å±•åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç ”ç©¶è€…ã€‚è¿™ä¸ªé¡¹ç›®ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œå¸Œæœ›èƒ½å¸®åŠ©æ›´å¤šäººç†è§£å’ŒæŒæ¡Agentå¼€å‘æŠ€æœ¯ã€‚

---

**ğŸ¯ è®°ä½ï¼šæœ€å¥½çš„å­¦ä¹ æ–¹å¼å°±æ˜¯åŠ¨æ‰‹å®è·µï¼** 

å…‹éš†è¿™ä¸ªé¡¹ç›®ï¼Œè¿è¡Œèµ·æ¥ï¼Œç„¶åå°è¯•ä¿®æ”¹å’Œæ‰©å±•å®ƒã€‚æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½ä¼šåŠ æ·±ä½ å¯¹AI Agentçš„ç†è§£ã€‚